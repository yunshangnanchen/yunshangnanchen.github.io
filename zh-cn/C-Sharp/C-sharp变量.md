# C# 变量

**一、变量概述**

一个变量只不过是一个供程序操作的存储区的名字。在 C# 中，变量是用于存储和表示数据的标识符，在声明变量时，需要指定变量的类型，并且可以选择性地为其分配一个初始值。

在 C# 中，每个变量都有一个特定的类型，类型决定了变量的内存大小和布局，范围内的值可以存储在内存中，可以对变量进行一系列操作。

**二、变量类型分类**

C# 中提供的基本的值类型大致可以分为以下几类：
1. 整数类型：`sbyte`、`byte`、`short`、`ushort`、`int`、`uint`、`long`、`ulong`和`char`。
2. 浮点型：`float`、`double`。
3. 十进制类型：`decimal`。
4. 布尔类型：`true`或`false`值，指定的值。
5. 空字符串：`string`。
6. 空类型：可为空值的数据类型。

C# 允许定义其他值类型的变量，比如`enum`，也允许定义引用类型变量，比如`class`。这些将在以后的章节中进行讨论。在本章节中，只研究基本变量类型。

C# 4.0 引入了动态类型（`dynamic`），它允许在运行时推断变量的类型。例如：`dynamic dynamicVariable = "This can be any type";`。这在一些特殊情况下很有用，但通常最好使用静态类型以获得更好的性能和编译时类型检查。

**三、变量定义**

C# 中变量定义的语法：`<data_type> <variable_list>;`。这里，`data_type`必须是一个有效的 C# 数据类型，可以是`char`、`int`、`float`、`double`或其他用户自定义的数据类型。`variable_list`可以由一个或多个用逗号分隔的标识符名称组成。

一些有效的变量定义如下所示：
```csharp
int i, j, k;
char c, ch;
float f, salary;
double d;
```

也可以在变量定义时进行初始化：
```csharp
int i = 100;
```

**四、变量命名规则**

在 C# 中，变量的命名需要遵循一些规则：
1. 变量名可以包含字母、数字和下划线。
2. 变量名必须以字母或下划线开头。
3. 变量名区分大小写。
4. 避免使用 C# 的关键字作为变量名。

例如：
```csharp
int myVariable = 10;
string _userName = "John";
```

**五、变量初始化**

变量通过在等号后跟一个常量表达式进行初始化（赋值）。初始化的一般形式为：`variable_name = value;`。

变量可以在声明时被初始化（指定一个初始值）。初始化由一个等号后跟一个常量表达式组成，如下所示：`<data_type> <variable_name> = value;`。

一些实例：
```csharp
int d = 3, f = 5;    /* 初始化 d 和 f. */
byte z = 22;         /* 初始化 z. */
double pi = 3.14159; /* 声明 pi 的近似值 */
char x = 'x';        /* 变量 x 的值为 'x' */
```

正确地初始化变量是一个良好的编程习惯，否则有时程序会产生意想不到的结果。

**六、接受来自用户的值**

`System`命名空间中的`Console`类提供了一个函数`ReadLine()`，用于接收来自用户的输入，并把它存储到一个变量中。

例如：
```csharp
int num;
num = Convert.ToInt32(Console.ReadLine());
```

函数`Convert.ToInt32()`把用户输入的数据转换为`int`数据类型，因为`Console.ReadLine()`只接受字符串格式的数据。

**七、Lvalues 和 Rvalues**

C# 中的两种表达式：
1. `lvalue`：`lvalue`表达式可以出现在赋值语句的左边或右边。
2. `rvalue`：`rvalue`表达式可以出现在赋值语句的右边，不能出现在赋值语句的左边。

变量是`lvalue`的，所以可以出现在赋值语句的左边。数值是`rvalue`的，因此不能被赋值，不能出现在赋值语句的左边。

下面是一个有效的语句：`int g = 20;`。

下面是一个无效的语句，会产生编译时错误：`10 = 20;`。